% Copyright 2014 by Thierry Onkelinx
%
% This file may be distributed and/or modified
%
% 1. under the LaTeX Project Public License and/or
% 2. under the GNU Public License.
%
% See the file doc/licenses/LICENSE for more details.
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{beamerthemeinbo2015}

\RequirePackage{inboimage_2015}

\newcommand{\autorefp}[1]{ (\autoref{#1})}
\newcommand{\refp}[1]{ (\ref{#1})}

\newcommand{\titelfontsize}{\fontsize{28pt}{33.6pt}\selectfont}
\newcommand{\ondertitelfontsize}{\fontsize{21pt}{25.2pt}\selectfont}
\newcommand{\sectionfontsize}{\fontsize{28pt}{33.6pt}\selectfont}
\newcommand{\subsectionfontsize}{\fontsize{10pt}{12pt}\selectfont}
\newcommand{\auteurfontsize}{\fontsize{10pt}{12pt}\selectfont}
\newcommand{\datumfontsize}{\fontsize{8pt}{9.6pt}\selectfont}
\newcommand{\instituutfontsize}{\fontsize{8pt}{9.6pt}\selectfont}
\newcommand{\urlfontsize}{\fontsize{7pt}{8pt}\selectfont}

\def\lang#1{\def\@lang{#1}}
\lang{dutch}

\def\cover#1{\def\@cover{#1}}
\cover{labo.jpg}

\def\coveroffset#1{\def\@coveroffset{#1}}
\coveroffset{0mm}


\institute{}

\RequirePackage[gen]{eurosym}

\RequirePackage{etoolbox}

\newcommand{\inbologo}[3]{%
  \edef\lang{{#1}}%
  \expandafter\ifstrequal\lang{dutch}{
    \hspace{#3}\includegraphics[height = 4.75mm, width = 27.55mm, keepaspectratio]{logo_nl_#2}
  }{
    \hspace{#3}\includegraphics[height = 4.75mm, width = 27.55mm, keepaspectratio]{logo_en_#2}
  }%
}

\newcommand{\vlaanderenlogo}[4]{%
  \edef\lang{{#1}}%
  \expandafter\ifstrequal\lang{dutch}{
    \includegraphics[height = #3, width = #4, keepaspectratio]{vlaanderen_nl_#2}
  }{
    \includegraphics[height = #3, width = #4, keepaspectratio]{vlaanderen_en_#2}
  }%
}

\RequirePackage[absolute, overlay]{textpos}
\setlength{\TPHorizModule}{1mm}
\setlength{\TPVertModule}{\TPHorizModule}
\textblockorigin{0mm}{0mm}

\RequirePackage[\@lang]{babel}
\RequirePackage{graphicx}
\RequirePackage{pgf}
\RequirePackage{amsmath}
\RequirePackage[round, colon, authoryear, sort&compress]{natbib}

\RequirePackage{ifxetex}

\ifxetex
  \RequirePackage[no-math]{fontspec}
  \setmainfont[Ligatures=TeX]{Calibri}
  \setmonofont{Courier New}
\else
  \RequirePackage[T1]{fontenc}
  \RequirePackage[utf8]{inputenc}
  \RequirePackage{lmodern}
\fi
\usefonttheme{serif}

\frenchspacing


\definecolor{inbo.hoofd}{RGB}{192, 67, 132}
%\definecolor{inbo.hoofd}{RGB}{191, 43, 134}
\definecolor{inbo.steun.blauw}{RGB}{53, 97, 150}
\definecolor{inbo.rood}{RGB}{190, 50, 84}
\definecolor{inbo.steun.geelgroen}{RGB}{194, 196, 68}
\definecolor{inbo.groen}{RGB}{149, 155, 56}
\definecolor{inbo.oranje}{RGB}{232, 120, 55}

\mode<presentation>

\usetheme{Pittsburgh}
\usecolortheme[named=inbo.hoofd]{structure}

\setbeamercolor{title}{fg=white}
\setbeamerfont{title}{size = \titelfontsize, series = \bfseries}

\setbeamercolor{subtitle}{fg=white}
\setbeamerfont{subtitle}{size = \ondertitelfontsize, series = \bfseries}

\setbeamercolor{author}{fg=white}
\setbeamerfont{author}{size = \auteurfontsize}

\setbeamercolor{date}{fg=white}
\setbeamerfont{date}{size = \datumfontsize}

\setbeamercolor{institute}{fg=white}
\setbeamerfont{institute}{size = \instituutfontsize}

\setbeamerfont{frametitle}{series = \bfseries, size = \large}
\setbeamercolor{frametitle}{bg=,fg=black}

\setbeamerfont{section title}{size = \sectionfontsize, series = \bfseries}
\setbeamercolor{section title}{fg = white, bg = inbo.hoofd}

\setbeamerfont{subsection title}{size = \subsectionfontsize, series = \bfseries}
\setbeamercolor{subsection title}{fg = white, bg = inbo.hoofd}

\setbeamerfont{sidebar}{size = \urlfontsize, series = \bfseries}
\setbeamercolor{sidebar}{fg = white, bg = inbo.hoofd}

\setbeamertemplate{navigation symbols}{}

\setbeamercolor{title in head/foot}{fg=black}

\setbeamercolor{normal text}{fg=black}


\setbeamercolor{itemize item}{fg=inbo.hoofd}
\setbeamertemplate{itemize items}[triangle]

\setbeamercolor{block title}{fg=white, bg=inbo.steun.blauw}
\setbeamercolor{block body}{bg = inbo.steun.blauw!50}
\setbeamerfont{block title}{series = \bfseries}
\setbeamercolor{block title alerted}{fg=white, bg=inbo.rood}
\setbeamercolor{block body alerted}{bg = inbo.rood!50}
\setbeamerfont{block title alerted}{series = \bfseries}
\setbeamercolor{block title example}{fg=white, bg=inbo.steun.geelgroen}
\setbeamercolor{block body example}{bg = inbo.steun.geelgroen!50}
\setbeamerfont{block title example}{series = \bfseries}

\setbeamersize{text margin left=9.5mm}
\setbeamersize{text margin right=6mm}




\setbeamertemplate{block begin}{
  \vskip2mm
  \begin{beamercolorbox}[leftskip = 10mm, colsep = 1mm]{block title}%
    \usebeamerfont*{block title}\insertblocktitle
  \end{beamercolorbox}%
  \vskip-0.5mm
  \pgfsetfillopacity{0.5}
  \usebeamerfont{block body}%
  \begin{beamercolorbox}[vmode, colsep = 1mm]{block body}%
    \ifbeamercolorempty[bg]{block body}{\vskip-.25ex}{\vskip-.75ex}\vbox{}%
  }
  \setbeamertemplate{block end}{
  \end{beamercolorbox}
  \pgfsetfillopacity{1}
}












\setbeamertemplate{block example begin}{
  \vskip2mm
  \begin{beamercolorbox}[leftskip = 10mm, colsep = 1mm]{block title example}%
    \usebeamerfont*{block title example}\insertblocktitle
  \end{beamercolorbox}%
  \vskip-0.5mm
  \pgfsetfillopacity{0.5}
  \usebeamerfont{block body example}%
  \begin{beamercolorbox}[vmode, colsep = 1mm]{block body example}%
    \ifbeamercolorempty[bg]{block body example}{\vskip-.25ex}{\vskip-.75ex}\vbox{}%
  }
  \setbeamertemplate{block example end}{
  \end{beamercolorbox}
  \pgfsetfillopacity{1}
}



















\setbeamertemplate{block alerted begin}{
  \vskip2mm
  \begin{beamercolorbox}[leftskip = 10mm, colsep = 1mm]{block title alerted}%
    \usebeamerfont*{block title alerted}\insertblocktitle
  \end{beamercolorbox}%
  \vskip-0.5mm
  \pgfsetfillopacity{0.5}
  \usebeamerfont{block body alerted}%
  \begin{beamercolorbox}[vmode, colsep = 1mm]{block body alerted}%
    \ifbeamercolorempty[bg]{block body alerted}{\vskip-.25ex}{\vskip-.75ex}\vbox{}%
  }
  \setbeamertemplate{block alerted end}{
  \end{beamercolorbox}
  \pgfsetfillopacity{1}
}



































\setbeamertemplate{sidebar left}{
  \vspace{87mm}
  \hspace{104mm}
  \vlaanderenlogo{\@lang}{halfvol}{9.9mm}{23.05mm}

  \begin{textblock}{3.5}(0, 0)
    \begin{pgfpicture}{0cm}{0cm}{3.5mm}{96mm}
      \usebeamercolor[bg]{sidebar}
      \pgfrect[fill]{\pgfpoint{0mm}{0mm}}{\pgfpoint{3.5mm}{96mm}}
    \end{pgfpicture}
  \end{textblock}

  \begin{textblock}{2.9}(1.2, 78)
    \textblockcolour{inbo.hoofd}
    {\usebeamerfont{sidebar}\usebeamercolor[fg]{sidebar}\rotatebox{90}{www.inbo.be}}
  \end{textblock}

  \begin{textblock}{3.5}(3.5, 0)
    \begin{pgfpicture}{0cm}{0cm}{3.5mm}{96mm}
      \usebeamercolor[fg]{sidebar}
      \pgfrect[fill]{\pgfpoint{0mm}{0mm}}{\pgfpoint{3.5mm}{96mm}}
    \end{pgfpicture}
  \end{textblock}
}


















\setbeamertemplate{title page}{
  \begin{textblock}{124.5}(3.5, 0)
    \pgfdeclareimage[width = 124.5mm, interpolate = true]{afbeelding}{\@cover}
    \begin{pgftranslate}{\pgfpoint{0mm}{\@coveroffset}}
      \pgfuseimage{afbeelding}
    \end{pgftranslate}
  \end{textblock}

  \begin{textblock}{3.5}(0, 0)
    \begin{pgfpicture}{0cm}{0cm}{3.5mm}{96mm}
      \color{inbo.hoofd}
      \pgfrect[fill]{\pgfpoint{0mm}{0mm}}{\pgfpoint{3.5mm}{96mm}}
    \end{pgfpicture}
  \end{textblock}

  \begin{textblock}{84}(18.1, 6)
    \begin{minipage}[b][50mm][b]{78mm}
      \noindent
      \raggedright
      {\usebeamerfont{title}\usebeamercolor[fg]{title}\inserttitle}\\
      {\usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle}
    \end{minipage}
  \end{textblock}

  \begin{textblock}{104}(18.1, 58.1)
     {\usebeamerfont{date}\usebeamercolor[fg]{date}\insertdate}~\\
     \vspace{5mm}
     \raggedright {\usebeamerfont{author}\usebeamercolor[fg]{author}\insertauthor}

     {\usebeamerfont{institute}\usebeamercolor[fg]{institute}\insertinstitute}
  \end{textblock}

  \begin{textblock}{29.2}(96.5, 4.4)
    \begin{center}
      \vlaanderenlogo{\@lang}{vol}{11.3mm}{29.1mm}
    \end{center}
  \end{textblock}


  \begin{textblock}{29.2}(96.5, 20.8)
    \textblockcolour{white}
    \vspace{0.75mm}
    \inbologo{\@lang}{kleur}{1mm}
    \vspace{0.75mm}
  \end{textblock}
}






















\setbeamertemplate{section page}{
  \begin{textblock}{119}(3.5, 6.5)
    \begin{pgfpicture}{0cm}{0cm}{119mm}{86mm}
      \pgfmoveto{\pgfpoint{0mm}{0mm}}
      \pgflineto{\pgfpoint{0mm}{89mm}}
      \pgflineto{\pgfpoint{97.7mm}{89mm}}
      \pgflineto{\pgfpoint{119mm}{0mm}}
      \pgfclip
      \color{inbo.hoofd}
      \pgfrect[fill]{\pgfpoint{0mm}{0mm}}{\pgfpoint{119mm}{89mm}}
    \end{pgfpicture}
  \end{textblock}

  \begin{textblock}{29.2}(7.5, 8.45)
    \textblockcolour{inbo.hoofd}
    \vlaanderenlogo{\@lang}{wit}{11.3mm}{29.1mm}
  \end{textblock}

  \begin{textblock}{29.2}(7.5, 22.3)
    \textblockcolour{inbo.hoofd}
    \inbologo{\@lang}{wit}{0mm}
  \end{textblock}

  \begin{textblock}{66}(36, 32)
    \textblockcolour{inbo.hoofd}
    \begin{minipage}[b][29mm][b]{66mm}
      \noindent
      \raggedright{\usebeamerfont{section title}\usebeamercolor[fg]{section title}\insertsection}
    \end{minipage}
  \end{textblock}
}





















\setbeamertemplate{subsection page}{
  \begin{textblock}{119}(3.5, 6.5)
    \begin{pgfpicture}{0cm}{0cm}{119mm}{86mm}
      \pgfmoveto{\pgfpoint{0mm}{0mm}}
      \pgflineto{\pgfpoint{0mm}{89mm}}
      \pgflineto{\pgfpoint{97.7mm}{89mm}}
      \pgflineto{\pgfpoint{119mm}{0mm}}
      \pgfclip
      \color{inbo.hoofd}
      \pgfrect[fill]{\pgfpoint{0mm}{0mm}}{\pgfpoint{119mm}{89mm}}
    \end{pgfpicture}
  \end{textblock}

  \begin{textblock}{29.2}(7.5, 8.45)
    \textblockcolour{inbo.hoofd}
    \vlaanderenlogo{\@lang}{wit}{11.3mm}{29.1mm}
  \end{textblock}

  \begin{textblock}{29.2}(7.5, 22.3)
    \textblockcolour{inbo.hoofd}
    \inbologo{\@lang}{wit}{0mm}
  \end{textblock}

  \begin{textblock}{66}(36, 32)
    \textblockcolour{inbo.hoofd}
    \begin{minipage}[b][29mm][b]{66mm}
      \noindent
      \raggedright{\usebeamerfont{section title}\usebeamercolor[fg]{section title}\insertsection}
    \end{minipage}
  \end{textblock}

  \begin{textblock}{78}(36, 63)
    \textblockcolour{inbo.hoofd}
    {\usebeamerfont{subsection title}\usebeamercolor[fg]{subsection title}\insertsubsection}
  \end{textblock}
}



















\defbeamertemplate*{footline}{inbo theme}
{%
  \leavevmode%
  \hbox{%
  	\begin{beamercolorbox}[wd=\paperwidth,ht=4ex,dp=1ex,center]{title in head/foot}%
    	\ifbeamertemplateempty{firstpage}{}{
      	\insertframenumber{} / \inserttotalframenumber\hspace*{2ex}}
	  \end{beamercolorbox}}%
  \vskip0pt%
}



















\setbeamertemplate{frametitle}{
  \vspace{3mm}\raggedright {\usebeamerfont{frame title}\usebeamercolor[fg]{frame title}\insertframetitle}

  {\small \insertframesubtitle}

}

\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

\mode
<all>

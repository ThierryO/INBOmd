% Copyright 2014 by Thierry Onkelinx
%
% This file may be distributed and/or modified
%
% 1. under the LaTeX Project Public License and/or
% 2. under the GNU Public License.
%
% See the file doc/licenses/LICENSE for more details.
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{beamerthemeinboposter2015}

\RequirePackage[absolute, overlay]{textpos}
\setlength{\TPHorizModule}{1mm}
\setlength{\TPVertModule}{\TPHorizModule}
\textblockorigin{70mm}{243mm}

\newcommand{\autorefp}[1]{ (\autoref{#1})}
\newcommand{\refp}[1]{ (\ref{#1})}

\def\lang#1{\def\@lang{#1}}
\lang{english}

\institute{}

\RequirePackage[gen]{eurosym}

\RequirePackage{etoolbox}

\newcommand{\inbologo}[1]{%
  \edef\lang{{#1}}%
  \expandafter\ifstrequal\lang{dutch}{
    \includegraphics[height = 35mm, keepaspectratio]{logo_nl_wit}
  }{
    \includegraphics[height = 35mm, keepaspectratio]{logo_en_wit}
  }%
}

\newcommand{\vlaanderenlogo}[1]{%
  \edef\lang{{#1}}%
  \expandafter\ifstrequal\lang{dutch}{
    \includegraphics[width = 275mm, keepaspectratio]{vlaanderen_nl_vol}
  }{
    \includegraphics[width = 275mm, keepaspectratio]{vlaanderen_en_vol}
  }%
}

\RequirePackage[\@lang]{babel}
\RequirePackage{graphicx}
\RequirePackage{pgf}
\RequirePackage{amsmath}
\RequirePackage[round, colon, authoryear, sort&compress]{natbib}

\RequirePackage{ifxetex}

\ifxetex
  \RequirePackage[no-math]{fontspec}
  \setmainfont[Ligatures=TeX]{Calibri}
  \setmonofont{Courier New}
\else
  \RequirePackage[T1]{fontenc}
  \RequirePackage[utf8]{inputenc}
  \RequirePackage{lmodern}
\fi
\usefonttheme{serif}

\frenchspacing


\mode<presentation>

\definecolor{inbo.hoofd}{RGB}{192, 67, 132}
\definecolor{inbo.steun.blauw}{RGB}{53, 97, 150}
\definecolor{inbo.rood}{RGB}{190, 50, 84}
\definecolor{inbo.steun.geelgroen}{RGB}{194, 196, 68}
\definecolor{background}{RGB}{222, 222, 222}


\newcommand{\titlefontsize}{\fontsize{90pt}{108pt}\selectfont}
\newcommand{\subtitlefontsize}{\fontsize{90pt}{108pt}\selectfont}
\newcommand{\authorfontsize}{\fontsize{60pt}{72pt}\selectfont}
\newcommand{\footlinefontsize}{\fontsize{60pt}{72pt}\selectfont}

\setbeamercolor{headline}{fg=black, bg = background}
\setbeamercolor{footline}{fg = white, bg = inbo.hoofd}
\setbeamerfont{footline}{size = \footlinefontsize, series = \mdseries}

\setbeamercolor{title}{fg=black}
\setbeamerfont{title}{size = \titlefontsize, series = \bfseries}

\setbeamercolor{subtitle}{fg=black}
\setbeamerfont{subtitle}{size = \subtitlefontsize, series = \mdseries}

\setbeamercolor{author}{fg=black}
\setbeamerfont{author}{size = \authorfontsize, series = \mdseries}

\setbeamertemplate{navigation symbols}{}

\setbeamercolor{normal text}{fg=black}


\setbeamercolor{itemize item}{fg=inbo.steun.blauw}
\setbeamercolor{itemize subitem}{fg=inbo.hoofd}
\setbeamercolor{itemize subsubitem}{fg=inbo.steun.geelgroen}
\setbeamertemplate{itemize items}[triangle]

\setlength{\leftmargini}{15mm}

\setbeamerfont{block title}{series = \bfseries}
\setbeamercolor{block title}{fg=white, bg=inbo.steun.blauw}
\setbeamercolor{block body}{fg = black, bg = white}

\setbeamerfont{block title alerted}{series = \bfseries}
\setbeamercolor{block title alerted}{fg = white, bg=inbo.rood}
\setbeamercolor{block body alerted}{fg = black, bg = inbo.rood!50}

\setbeamerfont{block title example}{series = \bfseries}
\setbeamercolor{block title example}{fg=white, bg=inbo.steun.geelgroen}
\setbeamercolor{block body example}{fg = black, bg = inbo.steun.geelgroen!50}

\setbeamersize{text margin left=9.5mm}
\setbeamersize{text margin right=6mm}




\setbeamertemplate{block begin}{
  \vskip6mm
  \begin{beamercolorbox}[leftskip = 10mm, colsep = 1mm]{block title}%
    \usebeamerfont*{block title}\insertblocktitle
  \end{beamercolorbox}%
  \vskip-0.5mm
  \usebeamerfont{block body}%
  \begin{beamercolorbox}[vmode, colsep = 1mm]{block body}%
    \ifbeamercolorempty[bg]{block body}{\vskip-.25ex}{\vskip-.75ex}\vbox{}%
  }
  \setbeamertemplate{block end}{
  \end{beamercolorbox}
  \vskip4mm
}












\setbeamertemplate{block example begin}{
  \vskip6mm
  \begin{beamercolorbox}[leftskip = 10mm, colsep = 1mm]{block title example}%
    \usebeamerfont*{block title example}\insertblocktitle
  \end{beamercolorbox}%
  \vskip-0.5mm
  \usebeamerfont{block body example}%
  \begin{beamercolorbox}[vmode, colsep = 1mm]{block body example}%
    \ifbeamercolorempty[bg]{block body example}{\vskip-.25ex}{\vskip-.75ex}\vbox{}%
  }
  \setbeamertemplate{block example end}{
  \end{beamercolorbox}
  \vskip4mm
}



















\setbeamertemplate{block alerted begin}{
  \vskip6mm
  \begin{beamercolorbox}[leftskip = 10mm, colsep = 1mm]{block title alerted}%
    \usebeamerfont*{block title alerted}\insertblocktitle
  \end{beamercolorbox}%
  \vskip-0.5mm
  \pgfsetfillopacity{0.5}
  \usebeamerfont{block body alerted}%
  \begin{beamercolorbox}[vmode, colsep = 1mm]{block body alerted}%
    \ifbeamercolorempty[bg]{block body alerted}{\vskip-.25ex}{\vskip-.75ex}\vbox{}%
  }
  \setbeamertemplate{block alerted end}{
  \end{beamercolorbox}
  \vskip4mm
  \pgfsetfillopacity{1}
}




















\setbeamertemplate{headline}{  
   \leavevmode

  \begin{textblock}{1}(455, -138)
    \vlaanderenlogo{\@lang}
  \end{textblock}

  \begin{textblock}{300}(0, 840)
    \inbologo{\@lang}
  \end{textblock}
 
  \begin{textblock}{450}(0, -173)
    \begin{minipage}[b][173mm][b]{450mm}
      \noindent
      \raggedright 
      \vfill\vfill
      {\usebeamerfont{title}\usebeamercolor[fg]{title}\inserttitle}\\
      {\usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle}\\
      \vfill
      {\usebeamerfont{author}\usebeamercolor[fg]{author}\insertauthor}\\
      \vfill\vfill
    \end{minipage}
  \end{textblock}

  \begin{textblock}{1}(585, 860)
    {\usebeamerfont{footline}\usebeamercolor[fg]{footline}www.inbo.be}
  \end{textblock}
}

\setbeamertemplate{background canvas}{  
  \begin{pgfpicture}{0cm}{0cm}{\paperwidth}{\paperheight}
    \color{inbo.hoofd}
    \pgfrect[fill]{\pgfpoint{40mm}{40mm}}{\pgfpoint{759.6mm}{120mm}}
    \color{background}
    \pgfrect[fill]{\pgfpoint{40mm}{160mm}}{\pgfpoint{759.6mm}{988.2mm}}

% rectangles to help alignment of style items
% \color{blue}
% \pgfrect[fill]{\pgfpoint{40mm}{40mm}}{\pgfpoint{30mm}{30mm}}
% \pgfrect[fill]{\pgfpoint{769.6mm}{40mm}}{\pgfpoint{30mm}{30mm}}
% \pgfrect[fill]{\pgfpoint{40mm}{1118.2mm}}{\pgfpoint{30mm}{30mm}}
% \pgfrect[fill]{\pgfpoint{769.6mm}{1118.2mm}}{\pgfpoint{30mm}{30mm}}
% \pgfrect[fill]{\pgfpoint{40mm}{160mm}}{\pgfpoint{30mm}{30mm}}
% \pgfrect[fill]{\pgfpoint{769.6mm}{160mm}}{\pgfpoint{30mm}{30mm}}
% \pgfrect[fill]{\pgfpoint{70mm}{190mm}}{\pgfpoint{699.6mm}{755.2mm}}
% \color{magenta}
% \pgfrect[fill]{\pgfpoint{70mm}{\paperheight - 70mm}}{\pgfpoint{450mm}{-173mm}}
% \pgfrect[fill]{\pgfpoint{\paperwidth}{\paperheight}}{\pgfpoint{-40mm}{-106mm}}

  \end{pgfpicture}
}


\mode<all>

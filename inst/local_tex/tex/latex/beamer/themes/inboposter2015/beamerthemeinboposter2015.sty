% Copyright 2014 by Thierry Onkelinx
%
% This file may be distributed and/or modified
%
% 1. under the LaTeX Project Public License and/or
% 2. under the GNU Public License.
%
% See the file doc/licenses/LICENSE for more details.
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{beamerthemeinboposter2015}

\RequirePackage[absolute, overlay]{textpos}
\setlength{\TPHorizModule}{1mm}
\setlength{\TPVertModule}{\TPHorizModule}
\textblockorigin{20mm}{140mm}

\newcommand{\autorefp}[1]{ (\autoref{#1})}
\newcommand{\refp}[1]{ (\ref{#1})}

\def\lang#1{\def\@lang{#1}}
\lang{english}

\def\email#1{\def\@email{#1}}
\email{info@inbo.be}

\RequirePackage[gen]{eurosym}

\RequirePackage{etoolbox}

\newcommand{\inbologo}[1]{%
  \edef\lang{{#1}}%
  \expandafter\ifstrequal\lang{dutch}{
    \includegraphics[height = 35mm, keepaspectratio]{logo_nl_wit}
  }{
    \includegraphics[height = 35mm, keepaspectratio]{logo_en_wit}
  }%
}

\newcommand{\vlaanderenlogo}[1]{%
  \edef\lang{{#1}}%
  \expandafter\ifstrequal\lang{dutch}{
    \includegraphics[height = 80mm, keepaspectratio]{vlaanderen_nl_vol}
  }{
    \includegraphics[height = 80mm, keepaspectratio]{vlaanderen_en_vol}
  }%
}

\RequirePackage[\@lang]{babel}
\RequirePackage{graphicx}
\RequirePackage{pgf}
\RequirePackage{amsmath}
\RequirePackage[round, colon, authoryear, sort&compress]{natbib}

\RequirePackage{ifxetex}

\ifxetex
  \RequirePackage[no-math]{fontspec}
  \setmainfont[Ligatures=TeX]{Calibri}
  \setmonofont{Courier New}
\else
  \RequirePackage[T1]{fontenc}
  \RequirePackage[utf8]{inputenc}
  \RequirePackage{lmodern}
\fi
\usefonttheme{serif}

\frenchspacing


\mode<presentation>

\definecolor{inbo.hoofd}{RGB}{192, 67, 132}
\definecolor{inbo.steun.blauw}{RGB}{53, 97, 150}
\definecolor{inbo.rood}{RGB}{190, 50, 84}
\definecolor{inbo.steun.geelgroen}{RGB}{194, 196, 68}
\definecolor{background}{RGB}{222, 222, 222}

\setbeamercolor{headline}{fg=black, bg = background}
\setbeamercolor{footline}{fg = white, bg = inbo.hoofd}
\setbeamerfont{footline}{size* = {60pt}{72pt}, series = \mdseries}
\setbeamerfont{email}{size* = {40pt}{48pt}, series = \mdseries}

\setbeamercolor{title}{fg=black}
\setbeamerfont{title}{size* = {90pt}{108pt}, series = \bfseries}

\setbeamercolor{subtitle}{fg=black}
\setbeamerfont{subtitle}{size* = {90pt}{108pt}, series = \mdseries}

\setbeamercolor{author}{fg=black}
\setbeamerfont{author}{size* = {60pt}{72pt}, series = \mdseries}

\setbeamertemplate{navigation symbols}{}

\setbeamercolor{normal text}{fg=black}


\setbeamercolor{itemize item}{fg=inbo.steun.blauw}
\setbeamercolor{itemize subitem}{fg=inbo.hoofd}
\setbeamercolor{itemize subsubitem}{fg=inbo.steun.geelgroen}
\setbeamertemplate{itemize items}[triangle]

\setlength{\leftmargini}{15mm}

\setbeamerfont{block title}{series = \bfseries}
\setbeamercolor{block title}{fg=white, bg=inbo.steun.blauw}
\setbeamercolor{block body}{fg = black, bg = white}

\setbeamerfont{block title alerted}{series = \bfseries}
\setbeamercolor{block title alerted}{fg = white, bg=inbo.rood}
\setbeamercolor{block body alerted}{fg = black, bg = inbo.rood!50}

\setbeamerfont{block title example}{series = \bfseries}
\setbeamercolor{block title example}{fg=white, bg=inbo.steun.geelgroen}
\setbeamercolor{block body example}{fg = black, bg = inbo.steun.geelgroen!50}

\setbeamersize{text margin left=9.5mm}
\setbeamersize{text margin right=6mm}




\setbeamertemplate{block begin}{
  \vskip6mm
  \begin{beamercolorbox}[leftskip = 10mm, sep = 2mm, colsep = 2mm]{block title}%
    \usebeamerfont*{block title}\insertblocktitle
  \end{beamercolorbox}%
  \vskip-0.5mm
  \usebeamerfont{block body}%
  \begin{beamercolorbox}[vmode, colsep = 2mm]{block body}%
    \ifbeamercolorempty[bg]{block body}{\vskip-.25ex}{\vskip-.75ex}\vbox{}%
  }
  \setbeamertemplate{block end}{
  \end{beamercolorbox}
  \vskip4mm
}












\setbeamertemplate{block example begin}{
  \vskip6mm
  \begin{beamercolorbox}[leftskip = 10mm, sep = 2mm, colsep = 2mm]{block title example}%
    \usebeamerfont*{block title example}\insertblocktitle
  \end{beamercolorbox}%
  \vskip-0.5mm
  \usebeamerfont{block body example}%
  \begin{beamercolorbox}[vmode, colsep = 2mm]{block body example}%
    \ifbeamercolorempty[bg]{block body example}{\vskip-.25ex}{\vskip-.75ex}\vbox{}%
  }
  \setbeamertemplate{block example end}{
  \end{beamercolorbox}
  \vskip4mm
}



















\setbeamertemplate{block alerted begin}{
  \vskip6mm
  \begin{beamercolorbox}[leftskip = 10mm, colsep = 1mm]{block title alerted}%
    \usebeamerfont*{block title alerted}\insertblocktitle
  \end{beamercolorbox}%
  \vskip-0.5mm
  \pgfsetfillopacity{0.5}
  \usebeamerfont{block body alerted}%
  \begin{beamercolorbox}[vmode, colsep = 1mm]{block body alerted}%
    \ifbeamercolorempty[bg]{block body alerted}{\vskip-.25ex}{\vskip-.75ex}\vbox{}%
  }
  \setbeamertemplate{block alerted end}{
  \end{beamercolorbox}
  \vskip4mm
  \pgfsetfillopacity{1}
}




















\setbeamertemplate{headline}{  
   \leavevmode

  \begin{textblock}{1}(606.6, -110.2)
    \vlaanderenlogo{\@lang}
  \end{textblock}

  \begin{textblock}{300}(0, 993)
    \inbologo{\@lang}
  \end{textblock}
 
  \begin{textblock}{250}(550, 1000)
    {
    \begin{minipage}[b][30mm][b]{250mm}
      \begin{flushright}
        \usebeamerfont{email}\usebeamercolor[fg]{footline}\@email\\
        \usebeamerfont{footline}\usebeamercolor[fg]{footline}www.inbo.be
      \end{flushright}
    \end{minipage}
    }
  \end{textblock}

\begin{textblock}{450}(0, -120)
    \begin{minipage}[b][100mm][b]{580mm}
      \noindent
      \begin{center}
      \vfill\vfill
      \usebeamerfont{title}\usebeamercolor[fg]{title}\inserttitle\\
      \usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle
      \vfill
      \usebeamerfont{author}\usebeamercolor[fg]{author}\insertauthor
      \vfill\vfill
      \end{center}
    \end{minipage}
  \end{textblock}

}

\setbeamertemplate{background canvas}{  
  \begin{pgfpicture}{0cm}{0cm}{\paperwidth}{\paperheight}
    \color{inbo.hoofd}
    \pgfrect[fill]{\pgfpoint{10mm}{10mm}}{\pgfpoint{\paperwidth-10mm-10mm}{70mm}}
    \color{background}
    \pgfrect[fill]{\pgfpoint{10mm}{80mm}}{\pgfpoint{-10mm + \paperwidth - 10mm}{-10mm - 70mm + \paperheight- 10mm}}

% % rectangles to help alignment of style items
% \color{magenta}
% \pgfrect[fill]{\pgfpoint{\paperwidth-10mm}{\paperheight - 10mm}}{\pgfpoint{-20mm}{-20mm}}
% \pgfrect[fill]{\pgfpoint{\paperwidth-10mm}{\paperheight - 10mm -20mm - 80mm}}{\pgfpoint{-10mm}{-20mm}}
% \color{blue}
% \pgfrect[fill]{\pgfpoint{10mm}{10mm}}{\pgfpoint{10mm}{10mm}}
% \pgfrect[fill]{\pgfpoint{\paperwidth-10mm}{10mm}}{\pgfpoint{-10mm}{10mm}}
% \pgfrect[fill]{\pgfpoint{10mm}{\paperheight-10mm}}{\pgfpoint{10mm}{-10mm}}
% \pgfrect[fill]{\pgfpoint{\paperwidth-10mm}{\paperheight - 10mm}}{\pgfpoint{-10mm}{-10mm}}
% \pgfrect[fill]{\pgfpoint{\paperwidth-10mm}{\paperheight - 10mm -20mm - 80mm - 20mm}}{\pgfpoint{-10mm}{-10mm}}
% \pgfrect[fill]{\pgfpoint{10mm}{\paperheight - 10mm -20mm - 80mm - 20mm}}{\pgfpoint{10mm}{-10mm}}

  \end{pgfpicture}
}


\mode<all>
